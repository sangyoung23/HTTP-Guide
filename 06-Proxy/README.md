# HTTP

## 6장 Proxy

### Proxy란 ?

> Proxy는 클라이언트와 서버 사이에 위치하여 그들 사이의 HTTP 메세지를 정리하는 중개인 처럼 동작하는 중개자 역할

### Proxy vs GateWay

Proxy는 같은 프로토콜을 사용하는 둘 이상의 애플리케이션을 연결하고, GateWay는 서로 다른 프로토콜을 사용하는 둘 이상을 연결한다.

GateWay는 서로 다른 프로토콜로 이야기를 하더라도 서로간의 트랜잭션을 완료한다.

### Proxy를 사용하는 이유

- 보안 개선, 성능 개선, 비용 절약
- 모든 HTTP 트래픽을 들여다 볼 수 있기에, 부가적인 가치를 주는 여러 유용한 웹 서비스를 구현하기 위해 트래픽을 감시하거나 수정 가능
- 어린이 필터
- 문서 접근 제어
  - 등록된 사용자만 문서 접근 권한 허용
- 보완 방화벽
  - 바이러스를 제거하는 웹이나 이메일 프락시 사용
  - 트래픽을 세심히 살펴보는 후크 제공
- 웹 캐시
  - 클라이언트가 자주 찾는 문서의 로컬 사본을 관리하고 해당 문서에 대한 요청이 오면 빠르게 제공
- 대리 프락시
  - 웹 서버인 것처럼 위장하여 리버스 프락시라고 불리는 이들은 진짜 웹 서버 요청을 받지만 서버와는 달리 요청 받은 컨텐츠의 위치를 찾아내기 위해 다른 서버와 커뮤니케이션 함
  - 공용 컨텐츠에 대한 느린 웹 서버의 성능 개선
  - 서버 가속기라고도 불림
  - 컨텐츠 라우팅 기능과 결합하여 주문형 복제 컨텐츠 분산 네트워크를 만들기 위해서도 사용
- 컨텐츠 라우터
  - 트래픽 조건과 컨텐츠 종류에 따라 요청을 특정 웹 서버로 유도
  - 사용자들에게 제공할 여러 서비스를 구현하는데 사용
  - 캐시, 필터링 등
- 트랜스 코더
  - 본문 포맷을 수정할 수 있음
  - 데이터의 표현 방식을 자연스럽게 변환
  - GIF to JPG, 이미지 크기 줄이기, 색 강도 조절, 폰트 변경, 랭귀지 변경 등
- 익명화 프락시
  - HTTP 메세지에게 신원 식별할 수 있는 특성들(IP주소, Form헤더, Referer헤더, 쿠키, URI 세션아이디)을 제거

### Forward 프록시

> 프록시 서버를 '클라이언트 호스트들과 접근 하고자 하는 원격 리소스 사이'에 위치 시킨다. 즉 사용자가 naver.com에 연결하려고 하면 사용자가 직접 PC에 연결하는 것이 아니라 Forward 프록시 서버가 요청을 받아 naver.com에 연결하여 그 결과를 사용자에게 전달해준다.
>
> 이 서버는 전형적으로 로컬 디스크에 데이터를 저장하며, 클라이언트 호스트들은 사용중인 웹 브라우저를 이용하여 프록시 서버 사용을 설정 해야 하므로 프록시 서버를 사용하고 있다는 것을 인실할 수 있다.
>
> 이 방식은 대역폭 사용을 감소시킬 수 있다는 것과 접근 정책 구현에 있어서 다루기 쉬우면서도 비용이 저렴하다는 장점이 있다. 사용자의 정해진 사이트만 연결할 수 있는 등 웹 사용환경을 제한할 수 있으므로 기업 환경 등에서 많이 사용된다.
